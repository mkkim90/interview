# 부하테스트

## 개요

안정성이 완벽할 수 없으며, 일정부분 장애를 허용할 수 밖에 없습니다. 
현재 시스템이 어느 정도의 부하를 견딜 수 있는지 확인하고 한계치에서 병목이 생기는 지점을 파악하고
장애 조치와 복구를 사전에 계획을 세워야합니다.


## 가용성 : 시스템이 서비스를 정상적으로 제공할 수 있는 상태

단일 장애점을 없애고 확장성 있는 서비스를 만들 수 있습니다. 
이중화가 필요합니다. 경우에 따라 다르겠지만, 특정영역만 해서는 안되고
모든 요소를 다중화하는것이 중요합니다.


## 다중화 : 장애가 발생해도 예비 운용장비로 시스템의 기능을 계속할 수 있도록 하는 것

단일 장애점을 없애고 무중단/고가용성 서비스를 위해 다중화가 필요합니다.

```
Failover 
	active
	passive

Replication 
	master 
	slave
```

Server, Load balancer, Network Device등이 있을 수 있습니다.

## 성능에 대한 관점

부하란, 처리를 실행하려고 해도 실행할 수 없어서 대기하고 있는 프로세스의 수를 의미


user 증가시, TPS는 어느 정도 증가하다가 더 이상 증가히지 않게되며, Time은 일정하게 유지되다 점차적으로 증가합니다. 
반면, 부하가 증가할 경우 지연시간은 변곡점에 이르기도 하는데 이 경우 시스템 리소스가 누수되고 있는 것은 아닌지 확인해봐야합니다.


### 성능과 확장
  성능에 문제가 있는 경우엔, 단일 사용자에 대한 응답속도가 느려집니다.
  확장성에 문제가 있는 경우엔, 당장은 단일 사용자에게는 빠르지만 부하가 많아질 경우 속도가 느려질 수 있습니다.

### 실제 지연시간이 발생하는 구간을 파악
  브라우저와 웹 서버간 구간 - 정적파일크기, Connection관리, 네트워크 환경 등의 영향
  서버구간 - DB와 애플리케이션 간 연결의 문제, 프로그램 로직 상의 문제 혹은 서버의 리소스 부족
  네트워크 이슈의 구간  - 상위 5%의 화면이 95% 사용자 요청을 받는다는 점을 감안하고 튜닝의 대상을 선정 
